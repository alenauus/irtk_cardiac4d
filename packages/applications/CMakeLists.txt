IF(APPLE)
  SET(EXECUTABLE_FLAG MACOSX_BUNDLE)
ENDIF(APPLE)

IF (BUILD_CONDOR_EXE)
  #  SET (CMAKE_CXX_COMPILER "condor_compile ${CMAKE_CXX_COMPILER}")
  # This is a hack since the line above doesn't work: this local 
  # scripts executes condor_compile with the option "c++". That means,
  # the variable CMAKE_CXX_COMPILER defined in ccmake is not taken 
  # into account!
  SET (CMAKE_CXX_COMPILER "${IRTK_SOURCE_DIR}/condor_compile.sh")

  ADD_EXECUTABLE(areg.condor areg.cc)
  ADD_EXECUTABLE(nreg.condor nreg.cc)
  ADD_EXECUTABLE(rreg.condor rreg.cc)
  ADD_EXECUTABLE(transformation.condor transformation.cc)
  ADD_EXECUTABLE(transformation2.condor transformation2.cc)
  ADD_EXECUTABLE(approximate.condor approximate.cc)
  ADD_EXECUTABLE(atlas.condor atlas.cc)
  ADD_EXECUTABLE(dof2mat.condor dof2mat.cc)
  ADD_EXECUTABLE(dofsubtract.condor dofsubtract.cc)
  ADD_EXECUTABLE(jacobian.condor jacobian.cc)
  ADD_EXECUTABLE(hreg.condor hreg.cc)
  ADD_EXECUTABLE(fluid.condor fluid.cc)
  ADD_EXECUTABLE(subtract.condor subtract.cc)
  ADD_EXECUTABLE(volumechange.condor volumechange.cc)

ELSE(BUILD_CONDOR_EXE)

    ADD_EXECUTABLE(areg areg.cc)
    ADD_EXECUTABLE(approximate approximate.cc)
    ADD_EXECUTABLE(approximate4D approximate4D.cc)
    ADD_EXECUTABLE(atlas atlas.cc)
    ADD_EXECUTABLE(compare compare.cc)
    ADD_EXECUTABLE(demons demons.cc)
    ADD_EXECUTABLE(dof2image dof2image.cc)
    ADD_EXECUTABLE(dof2vtk dof2vtk.cc)
    ADD_EXECUTABLE(dof2flirt dof2flirt.cc)
    ADD_EXECUTABLE(dofcombine dofcombine.cc)
    ADD_EXECUTABLE(dofinvert dofinvert.cc)
    ADD_EXECUTABLE(dof2mat dof2mat.cc)
    ADD_EXECUTABLE(dofimport dofimport.cc)
    ADD_EXECUTABLE(dofexport dofexport.cc)
    ADD_EXECUTABLE(dofprint dofprint.cc)
    ADD_EXECUTABLE(dofsubtract dofsubtract.cc)
    ADD_EXECUTABLE(evaluation evaluation.cc)
    ADD_EXECUTABLE(evaluation4D evaluation4D.cc)
    ADD_EXECUTABLE(ffd2D ffd2D.cc)
    ADD_EXECUTABLE(ffd2vtk ffd2vtk.cc)
    ADD_EXECUTABLE(ffdadd ffdadd.cc)
    ADD_EXECUTABLE(ffdaverage ffdaverage.cc)
    ADD_EXECUTABLE(ffdboundary ffdboundary.cc)
    ADD_EXECUTABLE(ffdcollapse ffdcollapse.cc)
    ADD_EXECUTABLE(ffdcombine ffdcombine.cc)
    ADD_EXECUTABLE(ffdcreate ffdcreate.cc)
    ADD_EXECUTABLE(ffdedit ffdedit.cc)
    ADD_EXECUTABLE(ffdinfo ffdinfo.cc)
    ADD_EXECUTABLE(ffdmovie ffdmovie.cc)
    ADD_EXECUTABLE(ffdpadding ffdpadding.cc)
    ADD_EXECUTABLE(ffdsubdivide ffdsubdivide.cc)
    ADD_EXECUTABLE(ffdsubtract ffdsubtract.cc)
    ADD_EXECUTABLE(ffdtransform ffdtransform.cc)
    ADD_EXECUTABLE(flirt2dof flirt2dof.cc)
    ADD_EXECUTABLE(fluid fluid.cc)
    ADD_EXECUTABLE(hreg hreg.cc)
    ADD_EXECUTABLE(image2dof image2dof.cc)
    ADD_EXECUTABLE(jacobian jacobian.cc)
    ADD_EXECUTABLE(largedeformations largedeformations.cc)
    ADD_EXECUTABLE(mat2dof mat2dof.cc)
    ADD_EXECUTABLE(mareg mareg.cc)
    ADD_EXECUTABLE(mnreg mnreg.cc)
    ADD_EXECUTABLE(motiontrack motiontrack.cc)
    ADD_EXECUTABLE(mrreg mrreg.cc)
    ADD_EXECUTABLE(msareg msareg.cc)
    ADD_EXECUTABLE(mshreg mshreg.cc)
    ADD_EXECUTABLE(msnreg msnreg.cc)
    ADD_EXECUTABLE(msrreg msrreg.cc)
    ADD_EXECUTABLE(normalize normalize.cc)
    ADD_EXECUTABLE(nreg nreg.cc)
    ADD_EXECUTABLE(pareg pareg.cc)
    ADD_EXECUTABLE(pcaloo pcaloo.cc)
    ADD_EXECUTABLE(pcanalysis pcanalysis.cc)
    ADD_EXECUTABLE(pcmodes pcmodes.cc)
    ADD_EXECUTABLE(pevaluation pevaluation.cc)
    ADD_EXECUTABLE(phreg phreg.cc)
    ADD_EXECUTABLE(pnreg pnreg.cc)
    ADD_EXECUTABLE(prreg prreg.cc)
    ADD_EXECUTABLE(ptransformation ptransformation.cc)
    ADD_EXECUTABLE(rreg rreg.cc)
    ADD_EXECUTABLE(sareg sareg.cc)
    ADD_EXECUTABLE(sevaluation sevaluation.cc)
    ADD_EXECUTABLE(shreg shreg.cc)
    ADD_EXECUTABLE(shreg_multipleDOFs shreg_multipleDOFs.cc)
    ADD_EXECUTABLE(snreg snreg.cc)
    ADD_EXECUTABLE(srreg srreg.cc)
    ADD_EXECUTABLE(stransformation stransformation.cc)
    ADD_EXECUTABLE(subtract subtract.cc)
    ADD_EXECUTABLE(symnreg symnreg.cc)
    ADD_EXECUTABLE(transformation transformation.cc)
    ADD_EXECUTABLE(transformation2 transformation2.cc)
    ADD_EXECUTABLE(volumechange volumechange.cc)
    ADD_EXECUTABLE(vtk2ffd vtk2ffd.cc)
 
INSTALL_TARGETS(/bin approximate approximate4D areg atlas compare demons
dofcombine dof2flirt dofinvert dof2mat dof2vtk dofsubtract dofprint 
evaluation ffd2D ffd2vtk ffdadd ffdboundary ffdcollapse ffdcombine ffdcreate ffdedit 
ffdinfo ffdmovie ffdpadding ffdsubdivide ffdsubtract ffdtransform flirt2dof 
hreg image2dof jacobian mat2dof mareg mnreg motiontrack mrreg nreg normalize 
pareg pevaluation phreg pnreg prreg ptransformation rreg subtract sareg 
sevaluation shreg snreg srreg stransformation subtract symnreg 
transformation transformation2 volumechange vtk2ffd)

ENDIF (BUILD_CONDOR_EXE)



